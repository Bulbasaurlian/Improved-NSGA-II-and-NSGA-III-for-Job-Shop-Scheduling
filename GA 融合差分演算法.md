### 基因演算法（Genetic Algorithm, GA）融合差分演算法
### ✏前言
基因演算法（Genetic algorithm）簡稱GA基本流程如下，經由編碼、初始化、交配及突變生成新的染色體並去評估是否達最佳解或是抵達終止條件，而基因演算法就是利用編碼中的基因，進行交配、突變以及挑選並連續迭代找出最佳解，而我們也發現利用差分演算法（differential evolution）中的變異因子公式（1）有助於演算法的下降速度，下面將解說兩者之間的差異。

### ✏基因演算法
步驟如下，先利用編碼將我們的生產排程問題實現於演算法中，並開始演算法的相關步驟。  
![image](https://user-images.githubusercontent.com/97092223/149270501-46b5a62c-85b0-4c00-b5e5-380805ec7f31.png)  

📎step1：先將排程題目進行編碼，如下圖我們將編碼分成兩個部分分別為選機和排序，顧名思義；前半部分是將所有工單安排進任一台可用機台，而後半部分將利用先前已經歸類好的工單進行排序，所以每條染色體都等於一個解。  
![image](https://user-images.githubusercontent.com/97092223/149270620-e9247085-88e5-48e2-98e9-e49bfde4ceb3.png)  

📎Step2：利用編碼完成的染色體禁行初始化，生成出題目所需要的染色體數量並去做適應度評估，所謂的適應度評估就是將所有染色體進行解碼計算出有哪幾條是優秀的染色體得以保留進行下一代的交配突變。  

📎Step3：交配突變是基因演算法當中最重要的環節，此過程能有機率的將每條染色體中的基因去做隨機改變，如下圖所示交配是將隨機選中的染色體進去區間基因互換，而突變是隨機任選一條染色體進行單點或雙點基因取代。  
![image](https://user-images.githubusercontent.com/97092223/149270840-464a6dc5-0723-47ca-b707-a73f680ca4ae.png)

📎Step4：在這裡我們將做出基因演算法上的改變，我們擷取了差分演算法（differential evolution）的變異公式（1）進行改變。  
![image](https://user-images.githubusercontent.com/97092223/149270883-15d0419a-a9bd-4867-acdd-a365acafd285.png)  
F：調整變數在此設為0.5  
群組：選出幾條為一組去進行變異  
上述變異公式就是將隨機選到的染色體進行基因調整，如公式所示；新的基因數值為選中的基因1加上0.5乘上基因2與基因3的相減，在新的染色體都完成變異後與選中之舊的染色體進行解碼比較，將前幾名放入子代並進行之後的迭代，在這群組的功能就是將母代染色體進行分群也就是幾條染色體為一群去做變異及挑選。

📎Step5：將所有染色體都選完後，就可將他們放入NSGA-II進行排序，找出好的多目標解。

📎Step6： NSGA-II排序出新的Rank後，進行菁英制及等級輪盤法找出下一代的染色體並回到step4持續更新直到中止條件。

📎終止條件：在本題
